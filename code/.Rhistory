mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
pred %>% filter(value > 0) %>%
ggplot(aes(x = Timestamp,y = value)) +
geom_line(aes(group = concat_coord,colour=variable), size = 0.65) +
#facet_wrap(~cenario, ncol = 2, scales = "free") +
xlab('Timestamp') + ylab('Temperatura (°C)') +
scale_color_manual(labels = c("Predito", "Real"),values=c(rgb(1,0,0), rgb(0,0,1,0.4))) +
#facet_grid(tecnica~cenario, scales = "free") +
theme_bw() + theme(text = element_text(size = 7)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(size = 6))+
theme(axis.text.y = element_text(size=6))+
theme(axis.title = element_text(size=12))+
theme(legend.text=element_text(size=10))+
theme(legend.title = element_text(size = 10))+
theme(strip.text = element_text(size = 10)) +
labs(col="Dados") +
ggtitle(tecnica) +
theme(plot.title = element_text(hjust = 0.5, size = 12))
pred = gather_info(cenario, target) %>% filter(tecnica == tecnica)
dim(pred)
pred = pred %>% gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
dim(pred)
head(pred)
unique(pred$tecnica)
pred = gather_info(cenario, target) %>% filter(tecnica == tecnica)
unique(pred$tecnica)
tecnica
pred = gather_info(cenario, target)
pred = pred %>% filter(tecnica == tecnica) %>%
gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
unique(pred$tecnica)
head(pred)
pred = pred %>% filter(tecnica == tecnica)
unique(pred$tecnica)
pred = gather_info(cenario, target)
tecnica = "rf"
dim(pred)
unique(pred$tecnica)
pred = pred %>% filter(tecnica == tecnica)
unique(pred$tecnica)
head(pred)
pred = pred %>% filter(tecnica == "ur")
head(pred)
unique(pred$tecnica)
pred = gather_info(cenario, target)
pred = pred %>% filter(tecnica == "ur")
unique(pred$tecnica)
pred = gather_info(cenario, target)
str(pred)
pred$tecnica == "brt"
unique(pred$tecnica == "brt")
sum(pred$tecnica == "brt")
tecnica = "BRT"
tecnica = "brt"
tecnicas = unique(pred$tecnica)
tecnicas
pred = gather_info(cenario, target)
pred = pred %>% filter(tecnica == tecnicas[1])
unique(pred$tecnica)
pred = gather_info(cenario, target)
tecnicas = unique(pred$tecnica)
pred = pred %>% filter(tecnica == tecnicas[1]) %>%
gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
?trimws
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tecnica)
pred = pred  %>%
gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
unique(pred$tecnica)
tecnica
pred %>% filter(tecnica == tecnica)
pred = pred %>% filter(tecnica == tecnica)
unique(pred$tecnica)
tec = "Brt"
tec = "Brt"
tec = "brt"
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tec)
unique(pred$tecnica)
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tec)
pred = pred  %>%
gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
p1  = pred %>% filter(value > 0) %>%
ggplot(aes(x = Timestamp,y = value)) +
geom_line(aes(group = concat_coord,colour=variable), size = 0.65) +
#facet_wrap(~cenario, ncol = 2, scales = "free") +
xlab('Timestamp') + ylab('Temperatura (°C)') +
scale_color_manual(labels = c("Predito", "Real"),values=c(rgb(1,0,0), rgb(0,0,1,0.4))) +
#facet_grid(tecnica~cenario, scales = "free") +
theme_bw() + theme(text = element_text(size = 7)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(size = 6))+
theme(axis.text.y = element_text(size=6))+
theme(axis.title = element_text(size=12))+
theme(legend.text=element_text(size=10))+
theme(legend.title = element_text(size = 10))+
theme(strip.text = element_text(size = 10)) +
labs(col="Dados") +
ggtitle(tecnica) +
theme(plot.title = element_text(hjust = 0.5, size = 12))
p1
progress = function(cenario, target, tec){
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tec)
pred = pred  %>%
gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
p1  = pred %>% filter(value > 0) %>%
ggplot(aes(x = Timestamp,y = value)) +
geom_line(aes(group = concat_coord,colour=variable), size = 0.65) +
#facet_wrap(~cenario, ncol = 2, scales = "free") +
xlab('Timestamp') + ylab('Temperatura (°C)') +
scale_color_manual(labels = c("Predito", "Real"),values=c(rgb(1,0,0), rgb(0,0,1,0.4))) +
#facet_grid(tecnica~cenario, scales = "free") +
theme_bw() + theme(text = element_text(size = 7)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(size = 6))+
theme(axis.text.y = element_text(size=6))+
theme(axis.title = element_text(size=12))+
theme(legend.text=element_text(size=10))+
theme(legend.title = element_text(size = 10))+
theme(strip.text = element_text(size = 10)) +
labs(col="Dados") +
ggtitle(tecnica) +
theme(plot.title = element_text(hjust = 0.5, size = 12))
ggsave(filename = paste0("../../part_1/figures/progress_",tecnica,"_",
cenario,"_",target,".png"), plot = p1,
dpi = 1000, width = 8, height = 6)
}
alpha = data.frame(expand.grid(
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9"),
target = c("temp","ur"),
tecnica = c("brt","svm","rf"))
) %>%
mutate_if(is.factor, as.character)
alpha = split(alpha,list(alpha$cenario,alpha$target,alpha$tecnica), drop=TRUE)
progress_list = lapply(alpha, function(x) progress(cenario = x[,"cenario"],
target = x[,"target"],
tecnica = x[,"tecnica"]))
progress_list = lapply(alpha, function(x) progress(cenario = x[,"cenario"],
target = x[,"target"],
tec = x[,"tecnica"]))
tecnica = "rf"
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tec)
unique(pred$tecnica)
tecnica
tec = "rf"
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tec)
unique(pred$tecnica)
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tec)
pred = pred  %>%
gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
pred %>% filter(value > 0) %>%
ggplot(aes(x = Timestamp,y = value)) +
geom_line(aes(group = concat_coord,colour=variable), size = 0.65) +
#facet_wrap(~cenario, ncol = 2, scales = "free") +
xlab('Timestamp') + ylab('Temperatura (°C)') +
scale_color_manual(labels = c("Predito", "Real"),values=c(rgb(1,0,0), rgb(0,0,1,0.4))) +
#facet_grid(tecnica~cenario, scales = "free") +
theme_bw() + theme(text = element_text(size = 7)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(size = 6))+
theme(axis.text.y = element_text(size=6))+
theme(axis.title = element_text(size=12))+
theme(legend.text=element_text(size=10))+
theme(legend.title = element_text(size = 10))+
theme(strip.text = element_text(size = 10)) +
labs(col="Dados") +
ggtitle(tecnica) +
theme(plot.title = element_text(hjust = 0.5, size = 12))
progress = function(cenario, target, tec){
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tec)
pred = pred  %>%
gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
p1  = pred %>% filter(value > 0) %>%
ggplot(aes(x = Timestamp,y = value)) +
geom_line(aes(group = concat_coord,colour=variable), size = 0.65) +
#facet_wrap(~cenario, ncol = 2, scales = "free") +
xlab('Timestamp') + ylab('Temperatura (°C)') +
scale_color_manual(labels = c("Predito", "Real"),values=c(rgb(1,0,0), rgb(0,0,1,0.4))) +
#facet_grid(tecnica~cenario, scales = "free") +
theme_bw() + theme(text = element_text(size = 7)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(size = 6))+
theme(axis.text.y = element_text(size=6))+
theme(axis.title = element_text(size=12))+
theme(legend.text=element_text(size=10))+
theme(legend.title = element_text(size = 10))+
theme(strip.text = element_text(size = 10)) +
labs(col="Dados") +
ggtitle(tecnica) +
theme(plot.title = element_text(hjust = 0.5, size = 12))
ggsave(filename = paste0("../../part_1/figures/progress_",tecnica,"_",
cenario,"_",target,".png"), plot = p1,
dpi = 1000, width = 8, height = 6)
}
alpha = data.frame(expand.grid(
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9"),
target = c("temp","ur"),
tecnica = c("brt","svm","rf"))
) %>%
mutate_if(is.factor, as.character)
alpha = split(alpha,list(alpha$cenario,alpha$target,alpha$tecnica), drop=TRUE)
progress_list = lapply(alpha, function(x) progress(cenario = x[,"cenario"],
target = x[,"target"],
tec = x[,"tecnica"]))
warnings
warnings()
alpha = data.frame(expand.grid(
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9"),
target = c("temp","ur"),
tecnica = c("brt","svm","rf"))
) %>%
mutate_if(is.factor, as.character)
alpha = split(alpha,list(alpha$cenario,alpha$target,alpha$tecnica), drop=TRUE)
alpha
tec = "svm"
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tec)
pred = pred  %>%
gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
unique(pred$tecnica)
pred %>% filter(value > 0) %>%
ggplot(aes(x = Timestamp,y = value)) +
geom_line(aes(group = concat_coord,colour=variable), size = 0.65) +
#facet_wrap(~cenario, ncol = 2, scales = "free") +
xlab('Timestamp') + ylab('Temperatura (°C)') +
scale_color_manual(labels = c("Predito", "Real"),values=c(rgb(1,0,0), rgb(0,0,1,0.4))) +
#facet_grid(tecnica~cenario, scales = "free") +
theme_bw() + theme(text = element_text(size = 7)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(size = 6))+
theme(axis.text.y = element_text(size=6))+
theme(axis.title = element_text(size=12))+
theme(legend.text=element_text(size=10))+
theme(legend.title = element_text(size = 10))+
theme(strip.text = element_text(size = 10)) +
labs(col="Dados") +
ggtitle(tecnica) +
theme(plot.title = element_text(hjust = 0.5, size = 12))
progress = function(cenario, target, tec){
pred = gather_info(cenario, target)
pred$tecnica = trimws(pred$tecnica, which = c("both"))
pred = pred %>% filter(tecnica == tec)
pred = pred  %>%
gather(variable, value, -(tecnica:z)) %>%
mutate(concat_coord = paste0(x,y,z,variable)) %>%
mutate(Timestamp = c(rep(1:((dim(pred)[1])/45),each = 45),rep(1:((dim(pred)[1])/45),each = 45)))
p1  = pred %>% filter(value > 0) %>%
ggplot(aes(x = Timestamp,y = value)) +
geom_line(aes(group = concat_coord,colour=variable), size = 0.65) +
#facet_wrap(~cenario, ncol = 2, scales = "free") +
xlab('Timestamp') + ylab('Temperatura (°C)') +
scale_color_manual(labels = c("Predito", "Real"),values=c(rgb(1,0,0), rgb(0,0,1,0.4))) +
#facet_grid(tecnica~cenario, scales = "free") +
theme_bw() + theme(text = element_text(size = 7)) +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) +
theme(axis.text.x = element_text(size = 6))+
theme(axis.text.y = element_text(size=6))+
theme(axis.title = element_text(size=12))+
theme(legend.text=element_text(size=10))+
theme(legend.title = element_text(size = 10))+
theme(strip.text = element_text(size = 10)) +
labs(col="Dados") +
ggtitle(tec) +
theme(plot.title = element_text(hjust = 0.5, size = 12))
ggsave(filename = paste0("../../part_1/figures/progress_",tec,"_",
cenario,"_",target,".png"), plot = p1,
dpi = 1000, width = 8, height = 6)
}
alpha = data.frame(expand.grid(
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9"),
target = c("temp","ur"),
tecnica = c("brt","svm","rf"))
) %>%
mutate_if(is.factor, as.character)
alpha = split(alpha,list(alpha$cenario,alpha$target,alpha$tecnica), drop=TRUE)
progress_list = lapply(alpha, function(x) progress(cenario = x[,"cenario"],
target = x[,"target"],
tec = x[,"tecnica"]))
sd_progress = function(target){
dat = list()
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9")
for(cenario in cenario){
dat[[cenario]] = gather_info(cenario, target) %>%
filter(tecnica == "brt", real > 0) %>% #just to select the data once not three times
mutate(hora = hms(hora)) %>%
mutate(range_hour = case_when(
hora > hms("00:00:00") & hora <= hms("03:00:00") ~ "00-03",
hora > hms("03:00:00") & hora <= hms("06:00:00") ~ "03-06",
hora > hms("06:00:00") & hora <= hms("09:00:00") ~ "06-09",
hora > hms("09:00:00") & hora <= hms("12:00:00") ~ "09-12",
hora > hms("12:00:00") & hora <= hms("15:00:00") ~ "12-15",
hora > hms("15:00:00") & hora <= hms("18:00:00") ~ "15-18",
hora > hms("18:00:00") & hora <= hms("21:00:00") ~ "18-21",
hora > hms("21:00:00") & hora <= hms("24:00:00") ~ "21-24",
TRUE ~ "ERRO"
)) %>% group_by(range_hour) %>%
summarise(sd_real = (sd(real)/mean(real))) %>%
mutate(cenario = cenario)
}
df = do.call(bind_rows, dat)
if(target == "temp"){
#br = 0.5
y_ax = "Desvio padrão (°C)"
}else{
#br = 2
y_ax = "Desvio padrão (%)"
}
p1 =  df %>% ggplot(aes(x = range_hour, y = sd_real, col = cenario)) +
geom_line(aes(group = cenario)) +
xlab("Intervalo de horas") +
scale_y_continuous(name=y_ax) +
theme_classic() +
theme(panel.background = element_rect(fill="white",
size=0.5, linetype="solid",
colour ="black"))
ggsave(filename = paste0("../../part_1/figures/sd_",target,".png"), plot = p1,
dpi = 2000, width = 10, height = 5)
}
alpha = data.frame(expand.grid(
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9"),
target = c("temp","ur"),
tecnica = c("brt","svm","rf"))
) %>%
mutate_if(is.factor, as.character)
alpha = split(alpha,list(alpha$cenario,alpha$target,alpha$tecnica), drop=TRUE)
sd_list = lapply(alpha, function(x) sd_progress( target = x[,"target"]))
target = "temp"
dat = list()
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9")
for(cenario in cenario){
dat[[cenario]] = gather_info(cenario, target) %>%
filter(tecnica == "brt", real > 0) %>% #just to select the data once not three times
mutate(hora = hms(hora)) %>%
mutate(range_hour = case_when(
hora > hms("00:00:00") & hora <= hms("03:00:00") ~ "00-03",
hora > hms("03:00:00") & hora <= hms("06:00:00") ~ "03-06",
hora > hms("06:00:00") & hora <= hms("09:00:00") ~ "06-09",
hora > hms("09:00:00") & hora <= hms("12:00:00") ~ "09-12",
hora > hms("12:00:00") & hora <= hms("15:00:00") ~ "12-15",
hora > hms("15:00:00") & hora <= hms("18:00:00") ~ "15-18",
hora > hms("18:00:00") & hora <= hms("21:00:00") ~ "18-21",
hora > hms("21:00:00") & hora <= hms("24:00:00") ~ "21-24",
TRUE ~ "ERRO"
)) %>% group_by(range_hour) %>%
summarise(sd_real = (sd(real)/mean(real))) %>%
mutate(cenario = cenario)
}
df = do.call(bind_rows, dat)
if(target == "temp"){
#br = 0.5
y_ax = "Desvio padrão (°C)"
}else{
#br = 2
y_ax = "Desvio padrão (%)"
}
df %>% ggplot(aes(x = range_hour, y = sd_real, col = cenario)) +
geom_line(aes(group = cenario)) +
xlab("Intervalo de horas") +
scale_y_continuous(name=y_ax) +
theme_classic() +
theme(panel.background = element_rect(fill="white",
size=0.5, linetype="solid",
colour ="black"))
dat = list()
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9")
for(cenario in cenario){
dat[[cenario]] = gather_info(cenario, target) %>%
filter(tecnica == "brt", real > 0) %>% #just to select the data once not three times
mutate(hora = hms(hora)) %>%
mutate(range_hour = case_when(
hora > hms("00:00:00") & hora <= hms("03:00:00") ~ "00-03",
hora > hms("03:00:00") & hora <= hms("06:00:00") ~ "03-06",
hora > hms("06:00:00") & hora <= hms("09:00:00") ~ "06-09",
hora > hms("09:00:00") & hora <= hms("12:00:00") ~ "09-12",
hora > hms("12:00:00") & hora <= hms("15:00:00") ~ "12-15",
hora > hms("15:00:00") & hora <= hms("18:00:00") ~ "15-18",
hora > hms("18:00:00") & hora <= hms("21:00:00") ~ "18-21",
hora > hms("21:00:00") & hora <= hms("24:00:00") ~ "21-24",
TRUE ~ "ERRO"
)) %>% group_by(range_hour) %>%
summarise(sd_real = (sd(real)/mean(real))) %>%
mutate(cenario = cenario)
}
df = do.call(bind_rows, dat)
if(target == "temp"){
#br = 0.5
y_ax = "Homogeneidade"
}else{
#br = 2
y_ax = "Homogeneidade"
}
p1 =  df %>% ggplot(aes(x = range_hour, y = sd_real, col = cenario)) +
geom_line(aes(group = cenario)) +
xlab("Intervalo de horas") +
scale_y_continuous(name=y_ax) +
theme_classic() +
theme(panel.background = element_rect(fill="white",
size=0.5, linetype="solid",
colour ="black"))
ggsave(filename = paste0("../../part_1/figures/sd_",target,".png"), plot = p1,
dpi = 2000, width = 10, height = 5)
target = "ur"
dat = list()
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9")
for(cenario in cenario){
dat[[cenario]] = gather_info(cenario, target) %>%
filter(tecnica == "brt", real > 0) %>% #just to select the data once not three times
mutate(hora = hms(hora)) %>%
mutate(range_hour = case_when(
hora > hms("00:00:00") & hora <= hms("03:00:00") ~ "00-03",
hora > hms("03:00:00") & hora <= hms("06:00:00") ~ "03-06",
hora > hms("06:00:00") & hora <= hms("09:00:00") ~ "06-09",
hora > hms("09:00:00") & hora <= hms("12:00:00") ~ "09-12",
hora > hms("12:00:00") & hora <= hms("15:00:00") ~ "12-15",
hora > hms("15:00:00") & hora <= hms("18:00:00") ~ "15-18",
hora > hms("18:00:00") & hora <= hms("21:00:00") ~ "18-21",
hora > hms("21:00:00") & hora <= hms("24:00:00") ~ "21-24",
TRUE ~ "ERRO"
)) %>% group_by(range_hour) %>%
summarise(sd_real = (sd(real)/mean(real))) %>%
mutate(cenario = cenario)
}
df = do.call(bind_rows, dat)
if(target == "temp"){
#br = 0.5
y_ax = "Homogeneidade"
}else{
#br = 2
y_ax = "Homogeneidade"
}
p1 =  df %>% ggplot(aes(x = range_hour, y = sd_real, col = cenario)) +
geom_line(aes(group = cenario)) +
xlab("Intervalo de horas") +
scale_y_continuous(name=y_ax) +
theme_classic() +
theme(panel.background = element_rect(fill="white",
size=0.5, linetype="solid",
colour ="black"))
ggsave(filename = paste0("../../part_1/figures/sd_",target,".png"), plot = p1,
dpi = 2000, width = 10, height = 5)
target = "temp"
dat = list()
cenario = c("cenario_1","cenario_5","cenario_7","cenario_9")
for(cenario in cenario){
dat[[cenario]] = gather_info(cenario, target) %>%
filter(tecnica == "brt", real > 0) %>% #just to select the data once not three times
mutate(hora = hms(hora)) %>%
mutate(range_hour = case_when(
hora > hms("00:00:00") & hora <= hms("03:00:00") ~ "00-03",
hora > hms("03:00:00") & hora <= hms("06:00:00") ~ "03-06",
hora > hms("06:00:00") & hora <= hms("09:00:00") ~ "06-09",
hora > hms("09:00:00") & hora <= hms("12:00:00") ~ "09-12",
hora > hms("12:00:00") & hora <= hms("15:00:00") ~ "12-15",
hora > hms("15:00:00") & hora <= hms("18:00:00") ~ "15-18",
hora > hms("18:00:00") & hora <= hms("21:00:00") ~ "18-21",
hora > hms("21:00:00") & hora <= hms("24:00:00") ~ "21-24",
TRUE ~ "ERRO"
)) %>% group_by(range_hour) %>%
summarise(sd_real = (sd(real)/mean(real))) %>%
mutate(cenario = cenario)
}
df = do.call(bind_rows, dat)
if(target == "temp"){
#br = 0.5
y_ax = "Homogeneidade"
}else{
#br = 2
y_ax = "Homogeneidade"
}
df
df %>% filter(cenario == "cenario_1")
df %>% filter(cenario == "cenario_5")
t = df %>% filter(cenario == "cenario_5")
max(t$sd_real) - min(t$sd_real)
df %>% filter(cenario == "cenario_1")
t = df %>% filter(cenario == "cenario_1")
max(t$sd_real) - min(t$sd_real)
